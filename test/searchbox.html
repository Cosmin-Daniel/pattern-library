<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Mocha Test Runner</title>

  <link rel="stylesheet" href="../node_modules/mocha/mocha.css">
</head>
<body>

    <!--
      Test output
    -->
    <div id="mocha"></div>

    <!--
      Fixture
    -->
    <!-- This is used without js on the main search page, but js is required for
          its presence on other pages. -->
    <div class="search-box" data-behaviour="SearchBox">


      <form class="compact-form" id="searchBox" action="#" method="GET">
        <fieldset class="compact-form__container">
          <label for="compact-form__input" class="visuallyhidden">Search by keyword or author</label>
          <input type="search" name="search" value="" placeholder="Search by keyword or author" id="compact-form__input" class="compact-form__input">
          <label for="reset" class="visuallyhidden">Reset form</label>
          <button type="reset" name="reset" id="reset" class="compact-form__reset"></button>
          <button type="submit" name="submit" class="compact-form__submit"><span class="visuallyhidden">Search</span></button>
        </fieldset>
      </form>

      <!-- Only applies when on an article belonging to a subject: -->
      <!-- Note that this could be moved to the behaviour layer as it looks like it's only needed when
           JavaScript is available. However, the value for subjectFilter needs to come from the server,
           so keeping it here for now until it's understood how the server -> js communication will
           work. -->
      <div class="search-box__search_option">
        <label class="search-box__search_option_label" for="limit">
          <input id="limit" type="checkbox" name="limit" value="1" form="searchBox"> Limit my search to <strong>Cell biology</strong>
        </label>
      </div>


    </div>

    <!--
      Load test code
    -->
    <script src="../node_modules/mocha/mocha.js"></script>
    <script src="../node_modules/chai/chai.js"></script>
    <script src="../node_modules/sinon/pkg/sinon.js"></script>

    <!-- Initialise test suite -->
    <script>mocha.setup('bdd')</script>

    <!--
      Test spec
    -->
    <script src="build/searchbox.spec.js"></script>

    <!--
      Begin!
    -->
    <script>
      mocha.run();
    </script>

</body>
</html>
